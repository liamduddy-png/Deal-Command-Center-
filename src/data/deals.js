export const PIPELINE_DEALS = [
  // === GUT (1 deal) ===
  { id: 53342535054, company: "Bell Construction", contact: "Ben Lambert", amount: 39525, stage: "Gut", closeDate: "2026-02-10", health: "hot", lastActivity: "Coordinating deep dive", ms: { change: "committed", technical: "eval", pricing: "aware", commercial: null, security: "not_started" } },

  // === BEST CASE (4 deals) ===
  { id: 48841455125, company: "ERMCO", contact: "Robert Gronde", amount: 13350, stage: "Best Case", closeDate: "2026-01-30", health: "cold", lastActivity: "Track training, send W email", ms: { change: "committed", technical: "fit", pricing: "aware", commercial: null, security: null } },
  { id: 45385204153, company: "LIV Development", contact: "Grayson Edgemon", amount: 35000, stage: "Best Case", closeDate: "2026-02-20", health: "hot", lastActivity: "Set final step before execution", ms: { change: "committed", technical: "fit", pricing: "aware", commercial: null, security: null } },
  { id: 47879289462, company: "AVB", contact: "Wendy Lockner", amount: 15000, stage: "Best Case", closeDate: "2026-03-13", health: "cold", lastActivity: "Track training with Wendy", ms: { change: "committed", technical: "eval", pricing: "aware", commercial: null, security: null } },
  { id: 45154018322, company: "Benco Construction", contact: "Daniel Morris", amount: 5000, stage: "Best Case", closeDate: "2026-05-01", health: "cold", lastActivity: "Training, track outcomes", ms: { change: "committed", technical: "fit", pricing: "aware", commercial: null, security: null } },

  // === MEETING QUALIFIED (19 deals) ===
  { id: 56120537145, company: "Valiant Construction", contact: "Patrick Broderick", amount: 20000, stage: "Meeting Qualified", closeDate: "2026-05-22", health: "warm", lastActivity: "Follow up post-meeting", ms: { change: null, technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 55035046413, company: "Griffco Design/Build", contact: "Matt Albright", amount: 45000, stage: "Meeting Qualified", closeDate: "2026-04-29", health: "warm", lastActivity: "Nurture, re-engage April", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 54835597585, company: "Leapley Construction Group", contact: "Zane Power", amount: 20000, stage: "Meeting Qualified", closeDate: "2026-04-27", health: "warm", lastActivity: "Set deep dive", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 54615982740, company: "Martins Construction Corp.", contact: "Jorge Miramontes", amount: 20000, stage: "Meeting Qualified", closeDate: "2026-04-26", health: "warm", lastActivity: "Move forward or kick out", ms: { change: "committed", technical: null, pricing: null, commercial: null, security: null } },
  { id: 52218446740, company: "Conger Construction Group", contact: "Andrew Tompkins", amount: 20000, stage: "Meeting Qualified", closeDate: "2026-05-27", health: "warm", lastActivity: "Schedule deep dive", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 52039462005, company: "Linkous Construction", contact: "Geritt Smith", amount: 24252, stage: "Meeting Qualified", closeDate: "2026-03-17", health: "cold", lastActivity: "Stalled, owner decision pending", ms: { change: "committed", technical: "fit", pricing: "aware", commercial: null, security: null } },
  { id: 51317317389, company: "The Skillman Corporation", contact: "David Yancey", amount: 30000, stage: "Meeting Qualified", closeDate: "2026-05-20", health: "cold", lastActivity: "Engage all contacts, move forward", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 51083970869, company: "Performance Services", contact: "Krystyna Kwak", amount: 25000, stage: "Meeting Qualified", closeDate: "2026-03-03", health: "cold", lastActivity: "Stalled, reset next steps", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 51083785501, company: "C.E. Gleeson Constructors", contact: "Cameron Gleeson", amount: 20000, stage: "Meeting Qualified", closeDate: "2026-03-03", health: "warm", lastActivity: "Deep dive scheduled", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 49908719258, company: "MSS Solutions", contact: "Michael Denoyer", amount: 65000, stage: "Meeting Qualified", closeDate: "2026-02-11", health: "cold", lastActivity: "Confirm interest, stalled", ms: { change: "committed", technical: "eval", pricing: "aware", commercial: null, security: null } },
  { id: 49534779521, company: "MCM", contact: "Ariel Martinez", amount: 10500, stage: "Meeting Qualified", closeDate: "2026-02-20", health: "cold", lastActivity: "Schedule training / kick-off ASAP", ms: { change: "committed", technical: "fit", pricing: "aware", commercial: null, security: null } },
  { id: 49448094482, company: "Meyer Najem", contact: "Nick DiRenzo", amount: 130000, stage: "Meeting Qualified", closeDate: "2026-05-01", health: "cold", lastActivity: "Matt IT blocker, reset", ms: { change: "committed", technical: "eval", pricing: "aware", commercial: null, security: null } },
  { id: 48615303235, company: "F&R Construction Group", contact: "Luis Pagan", amount: 59742, stage: "Meeting Qualified", closeDate: "2026-04-02", health: "cold", lastActivity: "Send W email", ms: { change: "committed", technical: "fit", pricing: "aware", commercial: null, security: null } },
  { id: 46040862858, company: "CBG Building", contact: "Darren Wellner", amount: 20000, stage: "Meeting Qualified", closeDate: "2026-05-01", health: "cold", lastActivity: "Break up email or move forward", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 45417062679, company: "H.J. Russell & Company", contact: "Chirag Venkatesan", amount: 40000, stage: "Meeting Qualified", closeDate: "2026-04-03", health: "cold", lastActivity: "Nurture", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 44855989790, company: "dunn building co", contact: "Patrick Hereford", amount: 20000, stage: "Meeting Qualified", closeDate: "2026-04-03", health: "cold", lastActivity: "Re-engage Q1 2026, set test case", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 42403509652, company: "Hernandez Construction", contact: "Yossi Ben Barouch", amount: 60000, stage: "Meeting Qualified", closeDate: "2026-04-16", health: "cold", lastActivity: "Nurture / trunk review re-engage", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 53697247660, company: "Tonn and Blank Construction", contact: "Andrew Stetler", amount: 25000, stage: "Meeting Qualified", closeDate: "2026-03-20", health: "warm", lastActivity: "Coordinating deep dive", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: "not_started" } },
  { id: 42558464818, company: "CAMCON Group", contact: "Victor Acevedo", amount: 30000, stage: "Meeting Qualified", closeDate: "2026-05-01", health: "cold", lastActivity: "Projects Q2 2026, resetting", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },

  // === MEETING SET (17 deals) ===
  { id: 56135892742, company: "Merus", contact: "Audrey Doepker", amount: 20000, stage: "Meeting Set", closeDate: "2026-05-12", health: "warm", lastActivity: "Demo 2/20", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 55922591601, company: "Hedrick Brothers Construction", contact: "Raul Garza", amount: 20000, stage: "Meeting Set", closeDate: "2026-05-12", health: "warm", lastActivity: "Meeting 2/20 @9am", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 55976753500, company: "Miller Valentine Construction", contact: "Rich Rouse", amount: 20000, stage: "Meeting Set", closeDate: "2026-05-11", health: "warm", lastActivity: "Demo 2/18", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 55827509605, company: "ADI Construction", contact: "Jim Kelly", amount: 20000, stage: "Meeting Set", closeDate: "2026-05-10", health: "warm", lastActivity: "Demo with Jim & Jeff", ms: { change: "committed", technical: "eval", pricing: "aware", commercial: null, security: null } },
  { id: 55261142891, company: "Carter Group", contact: "Seth Corley", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-30", health: "cold", lastActivity: "Meeting set Feb 10th", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 54835411028, company: "Ferguson Construction", contact: "Mark Rogers", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-27", health: "cold", lastActivity: "Demo 2/12", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 54351230032, company: "Garmong Construction", contact: "Josh Petrowski", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-22", health: "cold", lastActivity: "Demo 3/6", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 54020094219, company: "Miles-McClellan Construction", contact: "Jeremiah Webb", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-15", health: "cold", lastActivity: "Demo 1/29", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 53700632087, company: "Charter Construction", contact: "Josh Crowell", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-12", health: "cold", lastActivity: "Meeting set Jan 21", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 53695369733, company: "Powers & Sons Construction", contact: "Richard Delk", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-12", health: "cold", lastActivity: "Demo 2/10", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 53696354849, company: "Marous Brothers Construction", contact: "Jared Freeman", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-12", health: "cold", lastActivity: "Rescheduling, jury duty", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 53441988005, company: "T.W. Frierson Contractor", contact: "Lance Couch", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-08", health: "cold", lastActivity: "Meeting set Feb 13", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 53394288450, company: "Fortune-Johnson", contact: "Kyle Petty", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-07", health: "cold", lastActivity: "Meeting set 1/9", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 53368982851, company: "Merus (Wayne)", contact: "Wayne McMillian", amount: 20000, stage: "Meeting Set", closeDate: "2026-04-06", health: "cold", lastActivity: "Rescheduling", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 52276125816, company: "Jostin Construction", contact: "Olivia Smitherman", amount: 20000, stage: "Meeting Set", closeDate: "2026-02-20", health: "cold", lastActivity: "Demo 1/27", ms: { change: "committed", technical: "eval", pricing: null, commercial: null, security: null } },
  { id: 49757871168, company: "Shelco", contact: "Shawn Randall", amount: 20000, stage: "Meeting Set", closeDate: "2026-02-18", health: "cold", lastActivity: "Demo missed, reset", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
  { id: 48945970765, company: "Rabren General Contractors", contact: "Che Odom", amount: 20000, stage: "Meeting Set", closeDate: "2026-05-01", health: "cold", lastActivity: "Meeting missed, reset Jan", ms: { change: null, technical: null, pricing: null, commercial: null, security: null } },
];

export const EXPANSION_DEALS = [
  { id: 48615303235, company: "F&R Construction Group", contact: "Luis Pagan", arr: 59742, renewalDate: "2026-04-02", health: "healthy", usage: "High", risk: "Stalled since Nov", projects: 4 },
  { id: 49534779521, company: "MCM", contact: "Ariel Martinez", arr: 10500, renewalDate: "2026-02-20", health: "at_risk", usage: "Medium", risk: "VP approval pending", projects: 2 },
  { id: 52039462005, company: "Linkous Construction", contact: "Geritt Smith", arr: 24252, renewalDate: "2026-03-17", health: "at_risk", usage: "Medium", risk: "Owner decision pending over winter", projects: 3 },
  { id: 47879289462, company: "AVB", contact: "Wendy Lockner", arr: 15000, renewalDate: "2026-03-13", health: "healthy", usage: "High", risk: "ERP changeover distraction", projects: 5 },
  { id: 48841455125, company: "ERMCO", contact: "Robert Gronde", arr: 13350, renewalDate: "2026-01-30", health: "monitor", usage: "Low", risk: "Exec alignment stalled", projects: 2 },
  { id: 45154018322, company: "Benco Construction", contact: "Kyle Albaugh", arr: 5000, renewalDate: "2026-05-01", health: "monitor", usage: "Medium", risk: "Supers missing check-ins", projects: 2 },
];

export const STAGES = ["Gut", "Best Case", "Meeting Qualified", "Meeting Set"];

export const MILESTONE_KEYS = ["change", "technical", "pricing", "commercial", "security"];

export const HEALTH_COLORS = {
  hot: "bg-green-500",
  warm: "bg-amber-500",
  cold: "bg-red-500",
  healthy: "bg-green-500",
  at_risk: "bg-red-500",
  monitor: "bg-amber-500",
};

export const HEALTH_TEXT_COLORS = {
  hot: "text-green-400",
  warm: "text-amber-400",
  cold: "text-red-400",
  healthy: "text-green-400",
  at_risk: "text-red-400",
  monitor: "text-amber-400",
};

// Maps milestone property values from HubSpot to colors
export function getMilestoneColor(value) {
  if (!value) return "#555"; // weak — not set

  const v = String(value).toLowerCase();

  // Green — strong / committed / validated
  if (
    v.includes("vendor") ||
    v.includes("fit") ||
    v.includes("committed") ||
    v.includes("supportive") ||
    v.includes("signed")
  ) {
    return "#22C55E";
  }

  // Gold — in progress
  if (
    v.includes("aware") ||
    v.includes("involvement") ||
    v.includes("nda") ||
    v.includes("msa") ||
    v.includes("eval")
  ) {
    return "#D6A84F";
  }

  // Grey — weak / not started
  if (
    v.includes("not") ||
    v.includes("awareness")
  ) {
    return "#777";
  }

  return "#AAA";
}

export function getEngagementStatus(engagements) {
  if (!engagements || engagements.length === 0) {
    return { label: "No Activity", color: "#777", className: "text-slate-500 bg-slate-500/10 border-slate-500/30" };
  }

  const latest = engagements[0];
  const lastDate = new Date(latest.createdAt || latest.date || latest.timestamp);
  const now = new Date();
  const diffDays = (now.getTime() - lastDate.getTime()) / (1000 * 60 * 60 * 24);

  if (diffDays >= 5) {
    return { label: "Cooling", color: "#EF4444", className: "text-red-400 bg-red-500/10 border-red-500/30" };
  }
  if (diffDays >= 3) {
    return { label: "Softening", color: "#D6A84F", className: "text-amber-400 bg-amber-500/10 border-amber-500/30" };
  }
  return { label: "Active", color: "#22C55E", className: "text-green-400 bg-green-500/10 border-green-500/30" };
}

export const MILESTONE_COLORS = {
  committed: "bg-green-500",
  fit: "bg-green-500",
  closure: "bg-green-500",
  complete: "bg-green-500",
  msa: "bg-green-500",
  not_validated: "bg-red-500",
  eval: "bg-amber-500",
  aware: "bg-amber-500",
  nda: "bg-amber-500",
  started: "bg-amber-500",
  not_given: "bg-slate-600",
  not_started: "bg-slate-600",
};
